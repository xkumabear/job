vx6 操作系统主要由三部分组成

kernel      user           mkfs（文件镜像）



makefile 依次读取一个c文件 为所有的内核文件做以下操作

  调用gcc编译器，生成一个文件叫做proc.s，这是RISC-V 汇编语言文件；之后再走到汇编解释器，生成proc.o

最后系统加载器（Loader）会收集所有的.o文件，将它们链接在一起，并生成内核文件。





首先从0x80000000这个地址(内核的起始地址开始执行)

XV6从entry.s开始启动，这个时候没有内存分页，没有隔离性 运行在机器模式下

当进入到main函数时，此时进入到内核模式

然后执行main中的初始化程序，首先初始化

// add









最后执行用户程序初始化，此时通过userinit运行第一个进程 ，具体为创建初始进程，返回用户空间，初始化命令行窗口 ，调用fork，子进程中 执行exec函数，执行sh ，