<h3>表达式

运算符和运算对象 组成



<h4>运算符

优先级：一元最高 

结合律 ： 左结合

求值顺序： 优先级定义了对象的优先级但是并不能推算对象的求值顺序。

​			有四种运算符明确的规定了运算对象的求值顺序。 &&   和|| 和 ？： 和  ，

​			运算对象的求值顺序与优先级和结合律无关。

<h4>重载运算符</h4> ？？？


def : C++语言定义了运算符作用于内置类型和复合类型运算对象时候所执行的操作。 当运算符作用于类类型的运算对象时候，用户可以自行定义其含义

注：使用重载运算符时，其**包括运算对象的类型和返回值的类型都是由该运算符定义** 的；但**重载时运算对象的个数、运算符的优先级和结合律是无法改变的**。

重载运算符函数，本质还是函数调⽤，所以重载后： 

（1）可以是和调⽤运算符的⽅式调⽤，data1+data2 

（2）也可以是调⽤函数的⽅式，operator+(data1, data2)，这就要注意运算符函数的名字是 “operator运算符” 

在可以重载的运算符⾥有逗号、取地址、逻辑与、逻辑或 

不建议重载： 逗号、取地址，本⾝就对类类型有特殊定义；逻辑与、逻辑或，有短路求值属性；逗号、逻 辑与、或，定义了求值顺序

运算符重载应该是作为类的成员函数or⾮成员函数

重载运算符，它本⾝是⼏元就有⼏个参数，对于⼆元的，第⼀个参数对应左侧运算对象，第 ⼆个参数对应右侧运算对象。⽽！类的成员函数的第⼀个参数隐式绑定了this指针，所以重 载运算符如果是类的成员函数，左侧运算对象就相当于固定了是this



⼀些规则： （1）算术和关系运算符建议⾮成员 因为这些运算符是对称性的，形参都是常量引⽤  （2）赋值运算符必须成员。复合赋值运算符建议成员 （3）下标运算符必须成员 返回访问元素的引⽤，建议两版本（常量、⾮常量） （4）递增递减运算符，建议成员

例如：函数调⽤运算符： lambda是函数对象。编译器是将lambda表达式翻译为⼀个未命名类的未命名对象，‘[’捕获 列表‘]’(参数列表){函数体} 对应类中重载调⽤运算符的参数列表、函数体，捕获列表的内容 就对应类中的数据成员。所以捕获列表，值传递时，要拷贝并初始化那些数据成员，引⽤传 递就是直接⽤。



#### 左值和右值：

C++表达式要不然是右值，要不然就是左值 

- 注意：

  - 一个左值表达式求值结果就是一个对象或者一个函数，然而以常量对象 为代表的某些左值实际上是不能作为赋值语句的左侧运算对象 
  - 此外，虽然某些表表达式求值结果是对象但是他们是右值而非左值 
  - 只有在求值的时候才会出现左值和右值之说 

- 归纳： 

  - 当一个对象被用作右值的时候，用的是对象的值（内容） 
  - 当对象被用作左值的时候，用的是对象的身份（在内存总的位置） 

- decltype 推断的特殊性质 

  - 如果表达式的求值结果是左值，decltype作用于该表达式（不是变量） 得到一个引用类型 

  - 假设p的类型是int*，因为解引用运算符生成左值，所以 decltype（*p）的结果就是int& 

  - 因为取地址运算符生成右值，所以decltype（&p）的结果就是 int**，也就是说，结果是一个指向整型指针的指针

